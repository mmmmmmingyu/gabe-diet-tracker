<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾®ä¿¡è´¦å•è®°è´¦å·¥å…·</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        h1 { text-align: center; color: #333; margin-bottom: 20px; }
        .upload-area { background: white; border: 2px dashed #07c160; border-radius: 12px; padding: 40px; text-align: center; margin-bottom: 20px; cursor: pointer; transition: all 0.3s; }
        .upload-area:hover { background: #f0fff5; }
        .upload-area input { display: none; }
        .stats-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .stat-card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .stat-card h3 { color: #666; font-size: 14px; margin-bottom: 8px; }
        .stat-card .value { font-size: 24px; font-weight: bold; }
        .stat-card.income .value { color: #07c160; }
        .stat-card.expense .value { color: #ff4d4f; }
        .stat-card.balance .value { color: #1890ff; }
        .charts { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; margin-bottom: 20px; }
        .chart-card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .chart-card h3 { margin-bottom: 15px; color: #333; }
        .chart-card canvas { width: 100%; height: auto; }
        .category-list { list-style: none; }
        .category-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid #f0f0f0; }
        .category-item:last-child { border-bottom: none; }
        .category-name { display: flex; align-items: center; gap: 10px; }
        .category-icon { width: 36px; height: 36px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 18px; }
        .category-amount { text-align: right; }
        .category-amount .amount { font-weight: bold; color: #333; }
        .category-amount .percent { font-size: 12px; color: #999; }
        .progress-bar { height: 6px; background: #f0f0f0; border-radius: 3px; margin-top: 8px; overflow: hidden; }
        .progress-fill { height: 100%; border-radius: 3px; transition: width 0.5s; }
        .transactions { background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); overflow: hidden; }
        .transactions-header { padding: 15px 20px; border-bottom: 1px solid #f0f0f0; display: flex; justify-content: space-between; align-items: center; }
        .filter-btn { padding: 6px 12px; border: 1px solid #d9d9d9; background: white; border-radius: 4px; cursor: pointer; font-size: 14px; }
        .filter-btn.active { background: #07c160; color: white; border-color: #07c160; }
        .transaction-list { max-height: 500px; overflow-y: auto; }
        .transaction-item { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; border-bottom: 1px solid #f0f0f0; cursor: pointer; transition: background 0.2s; }
        .transaction-item:hover { background: #f5f5f5; }
        .transaction-info { flex: 1; }
        .transaction-title { font-weight: 500; color: #333; margin-bottom: 4px; }
        .transaction-meta { font-size: 12px; color: #999; }
        .transaction-amount { font-weight: bold; font-size: 16px; }
        .transaction-amount.expense { color: #ff4d4f; }
        .transaction-amount.income { color: #07c160; }
        .empty-state { text-align: center; padding: 60px 20px; color: #999; }
        .month-selector { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .month-btn { padding: 8px 16px; border: 1px solid #d9d9d9; background: white; border-radius: 20px; cursor: pointer; font-size: 14px; }
        .month-btn.active { background: #07c160; color: white; border-color: #07c160; }
        .add-btn { position: fixed; bottom: 30px; right: 30px; width: 56px; height: 56px; border-radius: 50%; background: #07c160; color: white; border: none; font-size: 28px; cursor: pointer; box-shadow: 0 4px 12px rgba(7, 193, 96, 0.4); transition: transform 0.2s; }
        .add-btn:hover { transform: scale(1.1); }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 1000; }
        .modal.active { display: flex; }
        .modal-content { background: white; padding: 30px; border-radius: 12px; width: 90%; max-width: 400px; }
        .modal-content h3 { margin-bottom: 20px; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; color: #666; font-size: 14px; }
        .form-group input, .form-group select { width: 100%; padding: 10px; border: 1px solid #d9d9d9; border-radius: 6px; font-size: 16px; }
        .form-actions { display: flex; gap: 10px; margin-top: 20px; }
        .form-actions button { flex: 1; padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; }
        .btn-primary { background: #07c160; color: white; }
        .btn-secondary { background: #f0f0f0; color: #666; }
        @media (max-width: 768px) { .charts { grid-template-columns: 1fr; } .stats-cards { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ’° å¾®ä¿¡è´¦å•è®°è´¦å·¥å…·</h1>
        <div class="upload-area" onclick="document.getElementById('fileInput').click()">
            <input type="file" id="fileInput" accept=".xlsx,.xls,.csv" onchange="handleFile(event)">
            <p style="font-size: 48px; margin-bottom: 10px;">ğŸ“</p>
            <p>ç‚¹å‡»ä¸Šä¼ å¾®ä¿¡è´¦å• Excel æ–‡ä»¶</p>
            <p style="color: #999; font-size: 14px; margin-top: 10px;">æ”¯æŒ .xlsx, .xls, .csv æ ¼å¼</p>
        </div>

        <div class="month-selector" id="monthSelector"></div>

        <div class="stats-cards" id="statsCards" style="display: none;">
            <div class="stat-card income"><h3>æ€»æ”¶å…¥</h3><div class="value" id="totalIncome">Â¥0.00</div></div>
            <div class="stat-card expense"><h3>æ€»æ”¯å‡º</h3><div class="value" id="totalExpense">Â¥0.00</div></div>
            <div class="stat-card balance"><h3>å‡€æ”¶æ”¯</h3><div class="value" id="netBalance">Â¥0.00</div></div>
            <div class="stat-card"><h3>äº¤æ˜“ç¬”æ•°</h3><div class="value" id="transactionCount">0</div></div>
        </div>

        <div class="charts" id="charts" style="display: none;">
            <div class="chart-card"><h3>ğŸ“Š æ”¯å‡ºåˆ†ç±»</h3><ul class="category-list" id="categoryList"></ul></div>
            <div class="chart-card"><h3>ğŸ’° æ”¶å…¥åˆ†ç±»</h3><ul class="category-list" id="incomeCategoryList"></ul></div>
            <div class="chart-card"><h3>ğŸª ä¸»è¦æ”¯å‡ºå•†æˆ·</h3><ul class="category-list" id="merchantList"></ul></div>
            <div class="chart-card"><h3>ğŸ“ˆ æ¯æ—¥å‡€æ”¶æ”¯è¶‹åŠ¿</h3><canvas id="trendChart" width="400" height="200"></canvas></div>
        </div>

        <div class="transactions" id="transactions" style="display: none;">
            <div class="transactions-header">
                <h3>ğŸ“‹ äº¤æ˜“æ˜ç»†</h3>
                <div>
                    <button class="filter-btn active" onclick="filterTransactions('all')">å…¨éƒ¨</button>
                    <button class="filter-btn" onclick="filterTransactions('expense')">æ”¯å‡º</button>
                    <button class="filter-btn" onclick="filterTransactions('income')">æ”¶å…¥</button>
                </div>
            </div>
            <div class="transaction-list" id="transactionList"></div>
        </div>

        <div class="empty-state" id="emptyState">
            <p style="font-size: 48px; margin-bottom: 10px;">ğŸ“Š</p>
            <p>ä¸Šä¼ å¾®ä¿¡è´¦å•æ–‡ä»¶å¼€å§‹è®°è´¦</p>
        </div>
    </div>

    <button class="add-btn" onclick="openModal()">+</button>

    <div class="modal" id="addModal">
        <div class="modal-content">
            <h3>è®°ä¸€ç¬”</h3>
            <div class="form-group">
                <label>ç±»å‹</label>
                <select id="newType"><option value="expense">æ”¯å‡º</option><option value="income">æ”¶å…¥</option></select>
            </div>
            <div class="form-group"><label>é‡‘é¢</label><input type="number" id="newAmount" placeholder="0.00" step="0.01"></div>
            <div class="form-group"><label>å•†æˆ·/å¯¹æ–¹</label><input type="text" id="newMerchant" placeholder="å¦‚ï¼šè¶…å¸‚ã€å·¥èµ„"></div>
            <div class="form-group">
                <label>åˆ†ç±»</label>
                <select id="newCategory">
                    <option value="é¤é¥®">é¤é¥®</option><option value="äº¤é€š">äº¤é€š</option><option value="è´­ç‰©">è´­ç‰©</option>
                    <option value="å¨±ä¹">å¨±ä¹</option><option value="æ•™è‚²">æ•™è‚²</option><option value="åŒ»ç–—">åŒ»ç–—</option>
                    <option value="ä½æˆ¿">ä½æˆ¿</option><option value="è½¬è´¦">è½¬è´¦</option><option value="å…¶ä»–">å…¶ä»–</option>
                </select>
            </div>
            <div class="form-group"><label>å¤‡æ³¨</label><input type="text" id="newNote" placeholder="å¯é€‰"></div>
            <div class="form-actions">
                <button class="btn-secondary" onclick="closeModal()">å–æ¶ˆ</button>
                <button class="btn-primary" onclick="addTransaction()">ä¿å­˜</button>
            </div>
        </div>
    </div>

    <script>
        // é¢„ç½®çš„è´¦å•æ•°æ®ï¼ˆ2026å¹´1-2æœˆï¼‰- åŒ…å«æ”¶å…¥å’Œæ”¯å‡º
        const presetTransactions = [
            // æ”¶å…¥è®°å½•
            {"time": "2026-02-24 09:00:00", "type": "æ”¶å…¥", "merchant": "å·¥èµ„", "product": "æœˆè–ª", "direction": "æ”¶å…¥", "amount": 15000.00, "category": "å…¶ä»–"},
            {"time": "2026-02-20 14:30:00", "type": "è½¬è´¦", "merchant": "å¼ ä¸‰", "product": "è½¬è´¦å¤‡æ³¨:è¿˜æ¬¾", "direction": "æ”¶å…¥", "amount": 500.00, "category": "è½¬è´¦"},
            {"time": "2026-02-15 10:00:00", "type": "çº¢åŒ…", "merchant": "å¾®ä¿¡çº¢åŒ…", "product": "æ–°å¹´çº¢åŒ…", "direction": "æ”¶å…¥", "amount": 888.00, "category": "çº¢åŒ…"},
            {"time": "2026-02-10 16:00:00", "type": "æ”¶å…¥", "merchant": "å…¼èŒ", "product": "è®¾è®¡è´¹", "direction": "æ”¶å…¥", "amount": 2000.00, "category": "å…¶ä»–"},
            {"time": "2026-02-05 11:00:00", "type": "è½¬è´¦", "merchant": "æå››", "product": "è½¬è´¦å¤‡æ³¨:èšé¤AA", "direction": "æ”¶å…¥", "amount": 150.00, "category": "è½¬è´¦"},
            {"time": "2026-01-31 20:00:00", "type": "çº¢åŒ…", "merchant": "å¾®ä¿¡çº¢åŒ…", "product": "æ˜¥èŠ‚çº¢åŒ…", "direction": "æ”¶å…¥", "amount": 2000.00, "category": "çº¢åŒ…"},
            {"time": "2026-01-25 09:00:00", "type": "æ”¶å…¥", "merchant": "å¥–é‡‘", "product": "å¹´ç»ˆå¥–", "direction": "æ”¶å…¥", "amount": 8000.00, "category": "å…¶ä»–"},
            {"time": "2026-01-20 15:00:00", "type": "è½¬è´¦", "merchant": "ç‹äº”", "product": "è½¬è´¦å¤‡æ³¨:å€Ÿæ¬¾å½’è¿˜", "direction": "æ”¶å…¥", "amount": 1000.00, "category": "è½¬è´¦"},
            {"time": "2026-01-15 12:00:00", "type": "çº¢åŒ…", "merchant": "å¾®ä¿¡çº¢åŒ…", "product": "ç”Ÿæ—¥çº¢åŒ…", "direction": "æ”¶å…¥", "amount": 520.00, "category": "çº¢åŒ…"},
            {"time": "2026-01-10 10:00:00", "type": "æ”¶å…¥", "merchant": "æŠ•èµ„æ”¶ç›Š", "product": "ç†è´¢æ”¶ç›Š", "direction": "æ”¶å…¥", "amount": 300.00, "category": "å…¶ä»–"},
            // æ”¯å‡ºè®°å½•
            {"time": "2026-02-24 08:05:15", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ·±åœ³é€š", "product": "æ·±åœ³å¸‚å…¬äº¤", "direction": "æ”¯å‡º", "amount": 1.60, "category": "äº¤é€š"},
            {"time": "2026-02-23 18:36:37", "type": "è½¬è´¦", "merchant": "æ³¢è®°", "product": "è½¬è´¦å¤‡æ³¨:æ‰‹æœº", "direction": "æ”¯å‡º", "amount": 100.00, "category": "è½¬è´¦"},
            {"time": "2026-02-23 16:50:53", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "éººå±‹çŒªä¸€ï¼ˆåŒ—ç«™åº—ï¼‰", "product": "ç¾å›¢/å¤§ä¼—ç‚¹è¯„ç‚¹é¤è®¢å•", "direction": "æ”¯å‡º", "amount": 127.00, "category": "é¤é¥®"},
            {"time": "2026-02-23 09:09:19", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "å¦é—¨å¸‚å¦™é¦™æ‰é£Ÿåº—", "product": "æ–°è”é‚¦", "direction": "æ”¯å‡º", "amount": 21.00, "category": "é¤é¥®"},
            {"time": "2026-02-22 12:53:41", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.60, "category": "äº¤é€š"},
            {"time": "2026-02-22 12:37:11", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "å±±å§†è‡ªåŠ©æ”¶é“¶", "product": "å±±å§†è‡ªåŠ©è´­", "direction": "æ”¯å‡º", "amount": 327.90, "category": "è´­ç‰©"},
            {"time": "2026-02-22 11:18:05", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 19.70, "category": "äº¤é€š"},
            {"time": "2026-02-21 20:37:43", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "å››å­£é£äº«24å°æ—¶è‡ªåŠ©æ£‹ç‰Œ", "product": "å¦é—¨-æ€åŒ—åº—:è®¢å•æ”¯ä»˜", "direction": "æ”¯å‡º", "amount": 88.00, "category": "å¨±ä¹"},
            {"time": "2026-02-21 18:21:34", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.90, "category": "äº¤é€š"},
            {"time": "2026-02-21 17:02:38", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 24.90, "category": "äº¤é€š"},
            {"time": "2026-02-21 12:07:21", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 25.10, "category": "äº¤é€š"},
            {"time": "2026-02-20 22:56:19", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 25.10, "category": "äº¤é€š"},
            {"time": "2026-02-20 20:32:43", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "å¦é—¨å¸‚æ€æ˜åŒºè²èŠ±å…¬å›­ç…èŸ¹é¤å…", "product": "å¦é—¨å¸‚æ€æ˜åŒºè²èŠ±å…¬å›­ç…èŸ¹é¤å…", "direction": "æ”¯å‡º", "amount": 530.00, "category": "é¤é¥®"},
            {"time": "2026-02-20 19:01:19", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 23.80, "category": "äº¤é€š"},
            {"time": "2026-02-20 17:59:28", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.20, "category": "äº¤é€š"},
            {"time": "2026-02-20 12:18:08", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 23.80, "category": "äº¤é€š"},
            {"time": "2026-02-19 21:58:37", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.30, "category": "äº¤é€š"},
            {"time": "2026-02-19 21:30:04", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 24.10, "category": "äº¤é€š"},
            {"time": "2026-02-18 22:43:24", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.70, "category": "äº¤é€š"},
            {"time": "2026-02-18 22:30:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.60, "category": "äº¤é€š"},
            {"time": "2026-02-18 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-02-17 21:54:14", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-02-17 21:39:14", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.50, "category": "äº¤é€š"},
            {"time": "2026-02-17 12:16:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.50, "category": "äº¤é€š"},
            {"time": "2026-02-16 21:42:28", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.50, "category": "äº¤é€š"},
            {"time": "2026-02-16 21:31:59", "type": "è½¬è´¦", "merchant": "é™ˆæ˜±æ˜•", "product": "è½¬è´¦å¤‡æ³¨:ç¥ä¸‰å°åªæ–°å¹´å¿«ä¹", "direction": "æ”¯å‡º", "amount": 600.00, "category": "è½¬è´¦"},
            {"time": "2026-02-16 21:26:38", "type": "è½¬è´¦", "merchant": "åˆ˜ä½³æ¬£", "product": "è½¬è´¦å¤‡æ³¨:ç¥ä½³æ¬£æ–°å¹´å¿«ä¹ï¼ï¼", "direction": "æ”¯å‡º", "amount": 500.00, "category": "è½¬è´¦"},
            {"time": "2026-02-16 21:22:21", "type": "è½¬è´¦", "merchant": "å¼ é’°æ¦•", "product": "è½¬è´¦å¤‡æ³¨:ç¥æ¦•å“¥æ–°å¹´å¿«ä¹ï¼ï¼", "direction": "æ”¯å‡º", "amount": 500.00, "category": "è½¬è´¦"},
            {"time": "2026-02-16 21:17:18", "type": "è½¬è´¦", "merchant": "é“­ä»”", "product": "è½¬è´¦å¤‡æ³¨:è™¾ç±³å“¥æ–°å¹´å¿«ä¹ï¼ï¼", "direction": "æ”¯å‡º", "amount": 500.00, "category": "è½¬è´¦"},
            {"time": "2026-02-16 21:12:13", "type": "è½¬è´¦", "merchant": "è¡¨å«‚", "product": "è½¬è´¦å¤‡æ³¨:ç¥æ¡æ¡æ–°å¹´å¿«ä¹ï¼", "direction": "æ”¯å‡º", "amount": 500.00, "category": "è½¬è´¦"},
            {"time": "2026-02-16 18:59:40", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-02-15 23:04:03", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.50, "category": "äº¤é€š"},
            {"time": "2026-02-15 22:48:32", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-02-15 12:12:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.20, "category": "äº¤é€š"},
            {"time": "2026-02-14 22:36:45", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.30, "category": "äº¤é€š"},
            {"time": "2026-02-14 22:24:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-02-14 12:11:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.50, "category": "äº¤é€š"},
            {"time": "2026-02-13 21:58:14", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.10, "category": "äº¤é€š"},
            {"time": "2026-02-13 21:44:32", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-02-13 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-02-12 22:15:32", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.60, "category": "äº¤é€š"},
            {"time": "2026-02-12 22:02:18", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.30, "category": "äº¤é€š"},
            {"time": "2026-02-12 12:08:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.50, "category": "äº¤é€š"},
            {"time": "2026-02-11 21:45:23", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.20, "category": "äº¤é€š"},
            {"time": "2026-02-11 21:32:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-02-11 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-02-10 22:20:15", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-02-10 22:06:42", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-02-10 12:12:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.50, "category": "äº¤é€š"},
            {"time": "2026-02-09 21:55:30", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.10, "category": "äº¤é€š"},
            {"time": "2026-02-09 20:12:43", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "ä¸Šæµ·å­¦ç•…åœ¨çº¿æ•™è‚²ç§‘æŠ€æœ‰é™å…¬å¸", "product": "ä¸Šæµ·å­¦ç•…åœ¨çº¿æ•™è‚²ç§‘æŠ€æœ‰é™å…¬å¸çš„åº—é“º", "direction": "æ”¯å‡º", "amount": 15000.00, "category": "æ•™è‚²"},
            {"time": "2026-02-09 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-02-08 22:18:25", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.60, "category": "äº¤é€š"},
            {"time": "2026-02-08 22:05:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.30, "category": "äº¤é€š"},
            {"time": "2026-02-08 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.50, "category": "äº¤é€š"},
            {"time": "2026-02-07 21:50:18", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.30, "category": "äº¤é€š"},
            {"time": "2026-02-07 21:36:45", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-02-07 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-02-06 22:15:42", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.70, "category": "äº¤é€š"},
            {"time": "2026-02-06 22:02:18", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-02-06 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.50, "category": "äº¤é€š"},
            {"time": "2026-02-05 21:48:32", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.20, "category": "äº¤é€š"},
            {"time": "2026-02-05 21:35:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.60, "category": "äº¤é€š"},
            {"time": "2026-02-05 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-02-04 22:12:50", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-02-04 21:58:25", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-02-04 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-02-03 21:45:18", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.10, "category": "äº¤é€š"},
            {"time": "2026-02-03 21:32:05", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-02-03 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-02-02 22:08:42", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.70, "category": "äº¤é€š"},
            {"time": "2026-02-02 21:55:18", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.30, "category": "äº¤é€š"},
            {"time": "2026-02-02 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-02-01 21:42:25", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.20, "category": "äº¤é€š"},
            {"time": "2026-02-01 21:28:52", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-02-01 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-31 21:38:15", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-01-31 21:25:42", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-01-31 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-30 21:35:28", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.10, "category": "äº¤é€š"},
            {"time": "2026-01-30 21:22:05", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-01-30 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-29 21:32:35", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.70, "category": "äº¤é€š"},
            {"time": "2026-01-29 21:19:12", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.30, "category": "äº¤é€š"},
            {"time": "2026-01-29 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-28 21:28:42", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.20, "category": "äº¤é€š"},
            {"time": "2026-01-28 21:15:18", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.60, "category": "äº¤é€š"},
            {"time": "2026-01-28 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-27 22:22:50", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-01-27 22:08:25", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-01-27 20:15:30", "type": "è½¬è´¦", "merchant": "é’Ÿçº¯", "product": "è½¬è´¦å¤‡æ³¨:å¾®ä¿¡è½¬è´¦", "direction": "æ”¯å‡º", "amount": 2100.00, "category": "è½¬è´¦"},
            {"time": "2026-01-27 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-26 21:25:18", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.10, "category": "äº¤é€š"},
            {"time": "2026-01-26 21:12:05", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-01-26 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-25 21:22:42", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.70, "category": "äº¤é€š"},
            {"time": "2026-01-25 21:08:18", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.30, "category": "äº¤é€š"},
            {"time": "2026-01-25 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-24 21:18:35", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.20, "category": "äº¤é€š"},
            {"time": "2026-01-24 21:05:12", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-01-24 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-23 21:15:28", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-01-23 21:02:05", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-01-23 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-22 21:12:35", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.10, "category": "äº¤é€š"},
            {"time": "2026-01-22 20:58:12", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-01-22 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-21 21:08:42", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.70, "category": "äº¤é€š"},
            {"time": "2026-01-21 20:55:18", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.30, "category": "äº¤é€š"},
            {"time": "2026-01-21 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-20 21:05:50", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.20, "category": "äº¤é€š"},
            {"time": "2026-01-20 20:52:25", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.60, "category": "äº¤é€š"},
            {"time": "2026-01-20 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-19 21:02:55", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-01-19 20:48:32", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-01-19 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-18 21:00:08", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.10, "category": "äº¤é€š"},
            {"time": "2026-01-18 20:45:45", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-01-18 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-17 20:58:22", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.70, "category": "äº¤é€š"},
            {"time": "2026-01-17 20:43:58", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.30, "category": "äº¤é€š"},
            {"time": "2026-01-17 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-16 20:55:35", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.20, "category": "äº¤é€š"},
            {"time": "2026-01-16 20:40:12", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-01-16 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-15 20:52:48", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-01-15 20:38:25", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-01-15 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-14 20:50:02", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.10, "category": "äº¤é€š"},
            {"time": "2026-01-14 20:35:38", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-01-14 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-13 20:47:15", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.70, "category": "äº¤é€š"},
            {"time": "2026-01-13 20:32:52", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.30, "category": "äº¤é€š"},
            {"time": "2026-01-13 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-12 20:44:28", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.20, "category": "äº¤é€š"},
            {"time": "2026-01-12 20:30:05", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.60, "category": "äº¤é€š"},
            {"time": "2026-01-12 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-11 20:41:42", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-01-11 20:27:18", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-01-11 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-10 20:38:55", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.10, "category": "äº¤é€š"},
            {"time": "2026-01-10 20:24:32", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-01-10 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-09 20:36:08", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.70, "category": "äº¤é€š"},
            {"time": "2026-01-09 20:21:45", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.30, "category": "äº¤é€š"},
            {"time": "2026-01-09 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-08 20:33:22", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.20, "category": "äº¤é€š"},
            {"time": "2026-01-08 20:18:58", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-01-08 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-07 20:30:35", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-01-07 20:16:12", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-01-07 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-06 20:27:48", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.10, "category": "äº¤é€š"},
            {"time": "2026-01-06 20:13:25", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-01-06 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-05 20:25:02", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.70, "category": "äº¤é€š"},
            {"time": "2026-01-05 20:10:38", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.30, "category": "äº¤é€š"},
            {"time": "2026-01-05 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-04 20:22:15", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.20, "category": "äº¤é€š"},
            {"time": "2026-01-04 20:07:52", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-01-04 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-03 20:19:28", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.80, "category": "äº¤é€š"},
            {"time": "2026-01-03 20:05:05", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.40, "category": "äº¤é€š"},
            {"time": "2026-01-03 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-02 20:16:42", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 22.10, "category": "äº¤é€š"},
            {"time": "2026-01-02 20:02:18", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.50, "category": "äº¤é€š"},
            {"time": "2026-01-02 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"},
            {"time": "2026-01-01 20:13:55", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.70, "category": "äº¤é€š"},
            {"time": "2026-01-01 19:59:32", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 21.30, "category": "äº¤é€š"},
            {"time": "2026-01-01 12:10:10", "type": "å•†æˆ·æ¶ˆè´¹", "merchant": "æ»´æ»´å‡ºè¡Œ", "product": "å…ˆä¹˜è½¦åä»˜æ¬¾", "direction": "æ”¯å‡º", "amount": 20.80, "category": "äº¤é€š"}
        ];

        let allTransactions = [...presetTransactions]; let currentFilter = 'all'; let currentMonth = 'all';
        const categoryIcons = { 'é¤é¥®': 'ğŸ”', 'äº¤é€š': 'ğŸš—', 'è´­ç‰©': 'ğŸ›ï¸', 'å¨±ä¹': 'ğŸ®', 'æ•™è‚²': 'ğŸ“š', 'åŒ»ç–—': 'ğŸ¥', 'ä½æˆ¿': 'ğŸ ', 'è½¬è´¦': 'ğŸ’¸', 'çº¢åŒ…': 'ğŸ§§', 'å…¶ä»–': 'ğŸ“¦' };
        const categoryColors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffeaa7', '#dfe6e9', '#fd79a8', '#fdcb6e', '#6c5ce7', '#a29bfe'];

        function handleFile(event) {
            const file = event.target.files[0]; if (!file) return;
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = new Uint8Array(e.target.result);
                    const workbook = XLSX.read(data, {type: 'array'});
                    const firstSheet = workbook.Sheets[workbook.SheetNames[0]];
                    const jsonData = XLSX.utils.sheet_to_json(firstSheet, {header: 1});
                    parseWeChatData(jsonData);
                } catch (error) { alert('æ–‡ä»¶è§£æå¤±è´¥ï¼Œè¯·ç¡®ä¿æ˜¯å¾®ä¿¡è´¦å•æ–‡ä»¶'); console.error(error); }
            };
            reader.readAsArrayBuffer(file);
        }

        function parseWeChatData(data) {
            let headerRow = -1;
            for (let i = 0; i < Math.min(data.length, 20); i++) { if (data[i] && data[i].includes('äº¤æ˜“æ—¶é—´')) { headerRow = i; break; } }
            if (headerRow === -1) { alert('æ— æ³•è¯†åˆ«è´¦å•æ ¼å¼'); return; }
            const transactions = [];
            for (let i = headerRow + 1; i < data.length; i++) {
                const row = data[i]; if (!row || row.length < 6) continue;
                const time = row[0] || '', type = row[1] || '', merchant = row[2] || '', product = row[3] || '', direction = row[4] || '', amountStr = row[5] || '0';
                if (!time || !direction) continue;
                const amount = parseFloat(amountStr.toString().replace('Â¥', '').replace(',', ''));
                transactions.push({ time, type, merchant, product, direction, amount, category: classifyTransaction(type, merchant, product) });
            }
            allTransactions = transactions; updateUI();
        }

        function classifyTransaction(type, merchant, product) {
            const text = (type + ' ' + merchant + ' ' + product).toLowerCase();
            if (text.includes('æ»´æ»´') || text.includes('åœ°é“') || text.includes('å…¬äº¤') || text.includes('å‡ºè¡Œ')) return 'äº¤é€š';
            if (text.includes('é¤') || text.includes('é¥­') || text.includes('é£Ÿ') || text.includes('å’–å•¡') || text.includes('å¥¶èŒ¶')) return 'é¤é¥®';
            if (text.includes('å±±å§†') || text.includes('è¶…å¸‚') || text.includes('è´­')) return 'è´­ç‰©';
            if (text.includes('æ•™è‚²') || text.includes('å­¦')) return 'æ•™è‚²';
            if (text.includes('çº¢åŒ…')) return 'çº¢åŒ…';
            if (text.includes('è½¬è´¦')) return 'è½¬è´¦';
            if (text.includes('ç¼´è´¹') || text.includes('æˆ¿ç§Ÿ')) return 'ä½æˆ¿';
            if (text.includes('åŒ»é™¢') || text.includes('è¯')) return 'åŒ»ç–—';
            if (text.includes('ç”µå½±') || text.includes('æ¸¸æˆ') || text.includes('æ£‹ç‰Œ')) return 'å¨±ä¹';
            return 'å…¶ä»–';
        }

        function updateUI() {
            document.getElementById('emptyState').style.display = 'none';
            document.getElementById('statsCards').style.display = 'grid';
            document.getElementById('charts').style.display = 'grid';
            document.getElementById('transactions').style.display = 'block';
            updateMonthSelector(); updateStats(); updateCategories(); updateIncomeCategories(); updateMerchants(); updateTransactionList(); updateTrendChart();
        }

        function updateMonthSelector() {
            const months = new Set();
            allTransactions.forEach(t => { const month = t.time.substring(0, 7); months.add(month); });
            const selector = document.getElementById('monthSelector');
            selector.innerHTML = '<button class="month-btn active" onclick="selectMonth(\'all\')">å…¨éƒ¨</button>';
            Array.from(months).sort().forEach(month => { selector.innerHTML += `<button class="month-btn" onclick="selectMonth('${month}')">${month}</button>`; });
        }

        function selectMonth(month) {
            currentMonth = month;
            document.querySelectorAll('.month-btn').forEach(btn => { btn.classList.toggle('active', (month === 'all' && btn.textContent === 'å…¨éƒ¨') || btn.textContent === month); });
            updateStats(); updateCategories(); updateIncomeCategories(); updateMerchants(); updateTransactionList(); updateTrendChart();
        }

        function getFilteredTransactions() {
            return allTransactions.filter(t => {
                const monthMatch = currentMonth === 'all' || t.time.substring(0, 7) === currentMonth;
                const typeMatch = currentFilter === 'all' || (currentFilter === 'expense' && t.direction === 'æ”¯å‡º') || (currentFilter === 'income' && t.direction === 'æ”¶å…¥');
                return monthMatch && typeMatch;
            });
        }

        function updateStats() {
            const filtered = getFilteredTransactions();
            const income = filtered.filter(t => t.direction === 'æ”¶å…¥').reduce((sum, t) => sum + t.amount, 0);
            const expense = filtered.filter(t => t.direction === 'æ”¯å‡º').reduce((sum, t) => sum + t.amount, 0);
            document.getElementById('totalIncome').textContent = `Â¥${income.toFixed(2)}`;
            document.getElementById('totalExpense').textContent = `Â¥${expense.toFixed(2)}`;
            document.getElementById('netBalance').textContent = `Â¥${(income - expense).toFixed(2)}`;
            document.getElementById('transactionCount').textContent = filtered.length;
        }

        function updateCategories() {
            const filtered = getFilteredTransactions().filter(t => t.direction === 'æ”¯å‡º');
            const categories = {}; filtered.forEach(t => { categories[t.category] = (categories[t.category] || 0) + t.amount; });
            const sorted = Object.entries(categories).sort((a, b) => b[1] - a[1]);
            const total = sorted.reduce((sum, [, amount]) => sum + amount, 0);
            const list = document.getElementById('categoryList');
            if (sorted.length === 0) {
                list.innerHTML = '<li class="category-item"><div class="category-name"><span>æš‚æ— æ”¯å‡ºæ•°æ®</span></div></li>';
                return;
            }
            list.innerHTML = sorted.map(([cat, amount], index) => {
                const percent = (amount / total * 100).toFixed(1), icon = categoryIcons[cat] || 'ğŸ“¦', color = categoryColors[index % categoryColors.length];
                return `<li class="category-item"><div class="category-name"><div class="category-icon" style="background: ${color}20; color: ${color}">${icon}</div><span>${cat}</span></div><div class="category-amount"><div class="amount">Â¥${amount.toFixed(2)}</div><div class="percent">${percent}%</div><div class="progress-bar"><div class="progress-fill" style="width: ${percent}%; background: ${color}"></div></div></div></li>`;
            }).join('');
        }

        function updateIncomeCategories() {
            const filtered = getFilteredTransactions().filter(t => t.direction === 'æ”¶å…¥');
            const categories = {}; filtered.forEach(t => { categories[t.category] = (categories[t.category] || 0) + t.amount; });
            const sorted = Object.entries(categories).sort((a, b) => b[1] - a[1]);
            const total = sorted.reduce((sum, [, amount]) => sum + amount, 0);
            const list = document.getElementById('incomeCategoryList');
            if (sorted.length === 0) {
                list.innerHTML = '<li class="category-item"><div class="category-name"><span>æš‚æ— æ”¶å…¥æ•°æ®</span></div></li>';
                return;
            }
            list.innerHTML = sorted.map(([cat, amount], index) => {
                const percent = (amount / total * 100).toFixed(1), icon = categoryIcons[cat] || 'ğŸ’°', color = categoryColors[index % categoryColors.length];
                return `<li class="category-item"><div class="category-name"><div class="category-icon" style="background: ${color}20; color: ${color}">${icon}</div><span>${cat}</span></div><div class="category-amount"><div class="amount">Â¥${amount.toFixed(2)}</div><div class="percent">${percent}%</div><div class="progress-bar"><div class="progress-fill" style="width: ${percent}%; background: ${color}"></div></div></div></li>`;
            }).join('');
        }

        function updateMerchants() {
            const filtered = getFilteredTransactions().filter(t => t.direction === 'æ”¯å‡º');
            const merchants = {}; filtered.forEach(t => { merchants[t.merchant] = (merchants[t.merchant] || 0) + t.amount; });
            const sorted = Object.entries(merchants).sort((a, b) => b[1] - a[1]).slice(0, 10);
            const total = filtered.reduce((sum, t) => sum + t.amount, 0);
            const list = document.getElementById('merchantList');
            if (sorted.length === 0) {
                list.innerHTML = '<li class="category-item"><div class="category-name"><span>æš‚æ— æ•°æ®</span></div></li>';
                return;
            }
            list.innerHTML = sorted.map(([merchant, amount], index) => {
                const percent = (amount / total * 100).toFixed(1), color = categoryColors[index % categoryColors.length];
                return `<li class="category-item"><div class="category-name"><div class="category-icon" style="background: ${color}20; color: ${color}">ğŸª</div><span style="max-width: 150px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">${merchant}</span></div><div class="category-amount"><div class="amount">Â¥${amount.toFixed(2)}</div><div class="percent">${percent}%</div><div class="progress-bar"><div class="progress-fill" style="width: ${percent}%; background: ${color}"></div></div></div></li>`;
            }).join('');
        }

        function updateTransactionList() {
            const filtered = getFilteredTransactions();
            const list = document.getElementById('transactionList');
            list.innerHTML = filtered.sort((a, b) => new Date(b.time) - new Date(a.time)).map(t => {
                const isExpense = t.direction === 'æ”¯å‡º', icon = categoryIcons[t.category] || 'ğŸ“¦';
                return `<div class="transaction-item"><div class="category-icon" style="background: #f0f0f0; margin-right: 12px;">${icon}</div><div class="transaction-info"><div class="transaction-title">${t.merchant || t.product || t.type}</div><div class="transaction-meta">${t.time} Â· ${t.category}</div></div><div class="transaction-amount ${isExpense ? 'expense' : 'income'}">${isExpense ? '-' : '+'}Â¥${t.amount.toFixed(2)}</div></div>`;
            }).join('');
        }

        function updateTrendChart() {
            const canvas = document.getElementById('trendChart');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const filtered = getFilteredTransactions();
            
            // æŒ‰æ—¥æœŸåˆ†ç»„ç»Ÿè®¡
            const dailyStats = {};
            filtered.forEach(t => {
                const date = t.time.split(' ')[0]; // æå–æ—¥æœŸéƒ¨åˆ†
                if (!date || date.length < 10) return;
                if (!dailyStats[date]) {
                    dailyStats[date] = { income: 0, expense: 0, net: 0 };
                }
                if (t.direction === 'æ”¶å…¥') {
                    dailyStats[date].income += t.amount;
                } else {
                    dailyStats[date].expense += t.amount;
                }
                dailyStats[date].net = dailyStats[date].income - dailyStats[date].expense;
            });
            
            // æ’åºæ—¥æœŸ
            const sortedDates = Object.keys(dailyStats).sort();
            if (sortedDates.length === 0) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = '#999';
                ctx.font = '14px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('æš‚æ— æ•°æ®', canvas.width / 2, canvas.height / 2);
                return;
            }
            
            // é™åˆ¶æ˜¾ç¤ºæœ€è¿‘30å¤©ï¼ˆå¦‚æœå½“å‰é€‰æ‹©æ˜¯"å…¨éƒ¨"ï¼‰
            let displayDates = sortedDates;
            if (currentMonth === 'all' && sortedDates.length > 30) {
                displayDates = sortedDates.slice(-30);
            }
            
            const nets = displayDates.map(d => dailyStats[d].net);
            const maxNet = Math.max(...nets, 0);
            const minNet = Math.min(...nets, 0);
            const range = maxNet - minNet || 1;
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const padding = { top: 20, right: 20, bottom: 40, left: 60 };
            const chartWidth = canvas.width - padding.left - padding.right;
            const chartHeight = canvas.height - padding.top - padding.bottom;
            
            // ç»˜åˆ¶åæ ‡è½´
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(padding.left, padding.top);
            ctx.lineTo(padding.left, canvas.height - padding.bottom);
            ctx.lineTo(canvas.width - padding.right, canvas.height - padding.bottom);
            ctx.stroke();
            
            // ç»˜åˆ¶é›¶çº¿
            const zeroY = padding.top + chartHeight - ((0 - minNet) / range * chartHeight);
            ctx.strokeStyle = '#999';
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(padding.left, zeroY);
            ctx.lineTo(canvas.width - padding.right, zeroY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // ç»˜åˆ¶æŠ˜çº¿
            if (displayDates.length > 1) {
                ctx.strokeStyle = '#1890ff';
                ctx.lineWidth = 2;
                ctx.beginPath();
                displayDates.forEach((date, i) => {
                    const x = padding.left + (i / (displayDates.length - 1)) * chartWidth;
                    const y = padding.top + chartHeight - ((dailyStats[date].net - minNet) / range * chartHeight);
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                });
                ctx.stroke();
                
                // ç»˜åˆ¶æ•°æ®ç‚¹
                displayDates.forEach((date, i) => {
                    const x = padding.left + (i / (displayDates.length - 1)) * chartWidth;
                    const y = padding.top + chartHeight - ((dailyStats[date].net - minNet) / range * chartHeight);
                    const isPositive = dailyStats[date].net >= 0;
                    ctx.fillStyle = isPositive ? '#07c160' : '#ff4d4f';
                    ctx.beginPath();
                    ctx.arc(x, y, 4, 0, Math.PI * 2);
                    ctx.fill();
                });
            }
            
            // ç»˜åˆ¶Xè½´æ ‡ç­¾ï¼ˆæ—¥æœŸï¼‰
            ctx.fillStyle = '#666';
            ctx.font = '10px sans-serif';
            ctx.textAlign = 'center';
            const labelStep = Math.ceil(displayDates.length / 6);
            displayDates.forEach((date, i) => {
                if (i % labelStep === 0 || i === displayDates.length - 1) {
                    const x = padding.left + (displayDates.length > 1 ? (i / (displayDates.length - 1)) * chartWidth : chartWidth / 2);
                    const label = date.substring(5); // æ˜¾ç¤º MM-DD
                    ctx.fillText(label, x, canvas.height - padding.bottom + 15);
                }
            });
            
            // ç»˜åˆ¶Yè½´æ ‡ç­¾
            ctx.textAlign = 'right';
            ctx.fillStyle = '#666';
            for (let i = 0; i <= 4; i++) {
                const value = minNet + (range * i / 4);
                const y = padding.top + chartHeight - (i / 4) * chartHeight;
                ctx.fillText('Â¥' + (value / 1000).toFixed(1) + 'k', padding.left - 8, y + 4);
            }
            
            // ç»˜åˆ¶å›¾ä¾‹
            ctx.textAlign = 'left';
            ctx.font = '12px sans-serif';
            ctx.fillStyle = '#07c160';
            ctx.fillText('â— ç›ˆä½™', padding.left + 10, padding.top + 15);
            ctx.fillStyle = '#ff4d4f';
            ctx.fillText('â— äºæŸ', padding.left + 70, padding.top + 15);
        }

        function filterTransactions(type) {
            currentFilter = type;
            document.querySelectorAll('.filter-btn').forEach(btn => { btn.classList.toggle('active', (type === 'all' && btn.textContent === 'å…¨éƒ¨') || (type === 'expense' && btn.textContent === 'æ”¯å‡º') || (type === 'income' && btn.textContent === 'æ”¶å…¥')); });
            updateStats(); updateTransactionList();
        }

        function openModal() { document.getElementById('addModal').classList.add('active'); }
        function closeModal() { document.getElementById('addModal').classList.remove('active'); }

        function addTransaction() {
            const type = document.getElementById('newType').value, amount = parseFloat(document.getElementById('newAmount').value),
                merchant = document.getElementById('newMerchant').value, category = document.getElementById('newCategory').value,
                note = document.getElementById('newNote').value;
            if (!amount || amount <= 0) { alert('è¯·è¾“å…¥æœ‰æ•ˆé‡‘é¢'); return; }
            allTransactions.push({ time: new Date().toLocaleString('zh-CN'), type: 'æ‰‹åŠ¨è®°è´¦', merchant: merchant || category, product: note, direction: type === 'expense' ? 'æ”¯å‡º' : 'æ”¶å…¥', amount, category });
            closeModal(); updateUI();
            document.getElementById('newAmount').value = ''; document.getElementById('newMerchant').value = ''; document.getElementById('newNote').value = '';
        }

        document.getElementById('addModal').addEventListener('click', function(e) { if (e.target === this) closeModal(); });

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨åˆå§‹åŒ–æ˜¾ç¤ºé¢„ç½®æ•°æ®
        document.addEventListener('DOMContentLoaded', function() {
            updateUI();
        });
    </script>
</body>
</html>
